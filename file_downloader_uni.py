import sys
import requests
import fnmatch

if len(sys.argv) == 2:
    url = sys.argv[1]
    file = sys.argv[2]
else:
    print(f"[-] USAGE >>> {sys.argv[0]} <URL> <FILE>")
    print("")
    sys.exit()

print(f"Downloading: {url}")

r = requests.get(url, allow_redirects=True)
open(file, 'wb').write(r.content)

if r.status_code == 404:
    print("404 - NOT FOUND! >> ", url)
elif r.status_code == 403:
    print("403 - FORBIDDEN! >> ", url)
elif fnmatch.filter(str(r.status_code), '5??'):
    print("{r.status_code} - SERVER ERROR! >> ", url)
else:
    print(f"DOWNLOAD COMPLETE - saved as: {file}")
